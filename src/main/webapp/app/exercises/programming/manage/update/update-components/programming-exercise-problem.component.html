<div class="form-group mb-0" id="field_problemStatement" name="problemStatement">
    <label class="form-control-label" for="field_problemStatement" jhiTranslate="artemisApp.programmingExercise.problemStatement.title"></label>
    <ng-container *ngIf="programmingExerciseUpdateService.stepInputs.isImport">
        <ngb-alert [dismissible]="false">
            <span class="font-weight-bold">{{ 'artemisApp.exercise.import.attention' | artemisTranslate }}</span
            ><span>{{ 'artemisApp.exercise.import.markdownWarning' | artemisTranslate }}</span>
        </ngb-alert>
        <jhi-programming-exercise-instructions [exercise]="programmingExercise" [participation]="programmingExercise.templateParticipation!" [personalParticipation]="false">
        </jhi-programming-exercise-instructions>
    </ng-container>
    <jhi-programming-exercise-editable-instructions
        *ngIf="
            programmingExerciseUpdateService.stepInputs.problemStatementLoaded &&
            programmingExerciseUpdateService.stepInputs.templateParticipationResultLoaded &&
            !programmingExerciseUpdateService.stepInputs.isImport
        "
        [participation]="programmingExercise.templateParticipation!"
        [(exercise)]="exercise"
        [showStatus]="!!programmingExercise?.id"
        [editMode]="!!programmingExercise?.id"
        (hasUnsavedChanges)="programmingExerciseUpdateService.stepInputs.hasUnsavedChanges = $event"
        [forceRender]="programmingExerciseUpdateService.stepInputs.rerenderSubject"
        class="form__editable-instructions"
    ></jhi-programming-exercise-editable-instructions>
</div>

<div class="form-group" *ngIf="isExamMode">
    <jhi-learning-goal-selection
        id="learning-goals"
        [labelName]="'artemisApp.learningGoal.link.title' | artemisTranslate"
        [labelTooltip]="'artemisApp.learningGoal.link.exercise' | artemisTranslate"
        [(ngModel)]="programmingExercise.learningGoals"
        name="learningGoals"
    ></jhi-learning-goal-selection>
</div>

<!-- Setting whether the solution repository should be checked out is only supported for Haskell exercises and is only available for new exercises -->
<div
    class="form-group mb-0"
    *ngIf="!programmingExercise.id && programmingExercise.programmingLanguage && programmingExerciseUpdateService.stepInputs.checkoutSolutionRepositoryAllowed"
>
    <div class="form-check">
        <label class="form-check-label" for="field_checkoutSolutionRepository">
            <input
                class="form-check-input"
                type="checkbox"
                name="checkoutSolutionRepository"
                id="field_checkoutSolutionRepository"
                [(ngModel)]="programmingExercise.checkoutSolutionRepository"
            />
            <span jhiTranslate="artemisApp.programmingExercise.checkoutSolutionRepository.title">Checkout Solution repository</span>
            <jhi-help-icon placement="auto" text="artemisApp.programmingExercise.checkoutSolutionRepository.description"></jhi-help-icon>
        </label>
    </div>
</div>
<!--This checkbox is only visible in the dev environment. If the checkbox is checked and the user clicks on the generate button
     a programming exercise without a connection to the VCS and CI will be generated
     This functionality is only for testing purposes-->
<div class="form-group mb-0" *ngIf="!programmingExerciseUpdateService.stepInputs.inProductionEnvironment">
    <div class="form-check">
        <label class="form-check-label" for="field_noVersionControlAndContinuousIntegrationAvailable">
            <input
                class="form-check-input"
                type="checkbox"
                name="noVersionControlAndContinuousIntegrationAvailable"
                id="field_noVersionControlAndContinuousIntegrationAvailable"
                [(ngModel)]="programmingExercise.noVersionControlAndContinuousIntegrationAvailable"
                checked
            />
            <span jhiTranslate="artemisApp.programmingExercise.noVersionControlAndContinuousIntegrationAvailable">Setup without connection to VCS and CI</span>
        </label>
    </div>
</div>

<div *ngIf="programmingExerciseUpdateService.stepInputs.isImport" class="form-group mb-0">
    <div class="form-check">
        <label class="form-check-label" for="field_recreateBuildPlans">
            <input
                class="form-check-input"
                type="checkbox"
                name="recreateBuildPlans"
                id="field_recreateBuildPlans"
                [(ngModel)]="programmingExerciseUpdateService.stepInputs.recreateBuildPlans"
                (change)="programmingExerciseUpdateService.stepInputs.onRecreateBuildPlanOrUpdateTemplateChange()"
            />
            <span jhiTranslate="artemisApp.programmingExercise.recreateBuildPlans.title">Recreate Build Plans</span>
            <jhi-help-icon placement="auto" text="artemisApp.programmingExercise.recreateBuildPlans.description"></jhi-help-icon>
        </label>
    </div>
</div>
<div
    class="form-group mb-0"
    *ngIf="
        programmingExerciseUpdateService.stepInputs.isImport &&
        programmingExercise.projectType !== ProjectType.PLAIN_GRADLE &&
        programmingExercise.projectType !== ProjectType.GRADLE_GRADLE
    "
>
    <div class="form-check">
        <label class="form-check-label" for="field_updateTemplateFiles">
            <input
                class="form-check-input"
                type="checkbox"
                name="updateTemplateFiles"
                id="field_updateTemplateFiles"
                [(ngModel)]="programmingExerciseUpdateService.stepInputs.updateTemplate"
                (change)="programmingExerciseUpdateService.stepInputs.onRecreateBuildPlanOrUpdateTemplateChange()"
            />
            <span jhiTranslate="artemisApp.programmingExercise.updateTemplate.title">Update template</span>
            <jhi-help-icon placement="auto" text="artemisApp.programmingExercise.updateTemplate.description"></jhi-help-icon>
        </label>
    </div>
</div>
